// 1.NULL 2.COALESCE
/*
====================================================
ЁЯФ┤ NULL ржХрзА? (Core Concept)
====================================================
NULL ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ ржХрзЛржирзЛ ржорж╛ржиржЗ ржирзЗржЗ (unknown / missing value)

ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:
NULL ржХрж┐ржирзНрждрзБ ржирж┐ржЪрзЗрж░ ржХрзЛржирзЛржЯрж╛ржЗ ржирж╛ тЭМ
- 0 ржирж╛
- '' (empty string) ржирж╛
- false ржирж╛

ржЙржжрж╛рж╣рж░ржг:
salary = NULL

ржПрж░ ржорж╛ржирзЗ:
salary-ржПрж░ ржХрзЛржирзЛ value ржПржЦржирзЛ ржЬрж╛ржирж╛ ржирзЗржЗ ржмрж╛ ржПржЦржирзЛ ржжрзЗржУрзЯрж╛ рж╣рзЯржирж┐
*/

/*
====================================================
ЁЯФ┤ NULL Comparison Rule (рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж┐рж╖рзЯ)
====================================================
SQL-ржП NULL ржПрж░ рж╕рж╛ржерзЗ ржХрзЛржирзЛ comparison ржХрж╛ржЬ ржХрж░рзЗ ржирж╛ред

ржХрж╛рж░ржг:
NULL = unknown
ржЖрж░ unknown ржПрж░ рж╕рж╛ржерзЗ compare ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред

ржирж┐ржЪрзЗрж░ рж╕ржмржЧрзБрж▓рзЛржЗ FALSE рж╣ржмрзЗ тЭМ
*/
const nullComparisonExamples = `
NULL = NULL        тЖТ false
NULL <> NULL       тЖТ false
NULL > 5           тЖТ false
NULL < 10          тЖТ false
`;

/*
ЁЯСЙ ржПржоржиржХрж┐ NULL ржирж┐ржЬрзЗржХрзЗржУ equal ржирж╛!
*/

/*
====================================================
ЁЯФ┤ NULL ржЪрзЗржХ ржХрж░рж╛рж░ рж╕ржарж┐ржХ ржЙржкрж╛рзЯ
====================================================

тЭМ ржнрзБрж▓ ржкржжрзНржзрждрж┐:
*/
const wrongNullCheck = `WHERE age = NULL`;

/*
ржХрж╛рж░ржг: = operator NULL ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ ржирж╛
*/

/*
тЬЕ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐:
*/
const correctNullCheck = `
WHERE age IS NULL
WHERE age IS NOT NULL
`;

/*
ЁЯСЙ IS / IS NOT рж╢рзБржзрзБ NULL ржПрж░ ржЬржирзНржпржЗ ржмрж╛ржирж╛ржирзЛ
*/

/*
====================================================
ЁЯФ┤ ржХрзЗржи ржПржоржи рж╣рзЯ?
====================================================
ржзрж░рзЗ ржирж┐ : ржЖржорж░рж╛ ржЬрж╛ржирж┐ржЗ ржирж╛ salary ржХржд

ржПржЦржи ржкрзНрж░рж╢рзНржи: "ржПржЗ salary ржХрж┐ 5000 ржПрж░ рж╕ржорж╛ржи?"
тЖТ ржЙрждрзНрждрж░ ржжрзЗржУрзЯрж╛ржЗ рж╕ржорзНржнржм ржирж╛

рждрж╛ржЗ SQL ржмрж▓рзЗ: Comparison ржПрж░ result = UNKNOWN
ржЖрж░ UNKNOWN ржорж╛ржирзЗржЗ WHERE clause-ржП reject тЭМ
*/

/*
====================================================
1я╕ПтГг NULL ржХрзЛржерж╛ ржерзЗржХрзЗ ржЖрж╕рзЗ?
====================================================
NULL рж╕рж╛ржзрж╛рж░ржгржд ржЖрж╕рзЗ ржирж┐ржЪрзЗрж░ ржЬрж╛рзЯржЧрж╛ржЧрзБрж▓рзЛ ржерзЗржХрзЗ:
1) INSERT ржХрж░рж╛рж░ рж╕ржорзЯ ржХрзЛржирзЛ column value ржирж╛ ржжрж┐рж▓рзЗ
2) Optional column ржерж╛ржХрж▓рзЗ
3) Form ржерзЗржХрзЗ data ржирж╛ ржПрж▓рзЗ
4) Calculation ржмрж╛ function ржерзЗржХрзЗ NULL return рж╣рж▓рзЗ
5) LEFT JOIN / RIGHT JOIN ржП matching row ржирж╛ ржкрзЗрж▓рзЗ
6) Data ржПржЦржирзЛ collect ржХрж░рж╛ рж╣рзЯржирж┐
7) ржнрзБрж▓ ржмрж╛ incomplete data entry рж╣рж▓рзЗ
*/

/*
====================================================
ЁЯФ┤ WHERE clause-ржП NULL ржПрж░ ржЖржЪрж░ржг
====================================================
WHERE clause рж╕ржмрж╕ржорзЯ рж╢рзБржзрзБ TRUE row рж░рж╛ржЦрзЗ

ржпржжрж┐ result рж╣рзЯ:
- TRUE  тЖТ row ржерж╛ржХржмрзЗ
- FALSE тЖТ row ржмрж╛ржж
- UNKNOWN (NULL related) тЖТ row ржмрж╛ржж тЭМ

ржПржЗ ржЬржирзНржпржЗ NULL ржирж┐ржЬрзЗ ржирж┐ржЬрзЗ ржмрж╛ржж ржкрзЬрзЗ ржпрж╛рзЯ
*/

/*
====================================================
ЁЯФ┤ Calculation ржП NULL ржХрзА ржХрж░рзЗ?
====================================================
NULL рж╕ржм calculation ржирж╖рзНржЯ ржХрж░рзЗ ржжрзЗрзЯ ЁЯШ╡

ржЙржжрж╛рж╣рж░ржг:
salary + bonus

ржпржжрж┐:
*/
const salaryBonusExample = `
salary = NULL
bonus = 500
`;

/*
Result рж╣ржмрзЗ:
NULL

ЁЯСЙ ржпрзЗржХрзЛржирзЛ ржПржХ ржкрж╛рж╢рзЗ NULL ржерж╛ржХрж▓рзЗ ржкрзБрж░рзЛ result NULL рж╣рзЯрзЗ ржпрж╛рзЯ
*/

/*
====================================================
ЁЯФ┤ NULL Master Rule (рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рж╕рж╛рж░рж╛ржВрж╢)
====================================================
1я╕ПтГг NULL ржорж╛ржирзЗ value ржирж╛ржЗ (unknown)
2я╕ПтГг = ржжрж┐рзЯрзЗ NULL compare ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛
3я╕ПтГг WHERE clause-ржП NULL ржирж┐ржЬрзЗ ржирж┐ржЬрзЗ ржмрж╛ржж ржкрзЬрзЗ
4я╕ПтГг Calculation-ржП NULL рж╕ржм ржирж╖рзНржЯ ржХрж░рзЗ ржжрзЗрзЯ
5я╕ПтГг COALESCE рж╣рж▓рзЛ lifesaver ЁЯЫЯ
*/

/*
====================================================
ЁЯФ┤ ржоржирзЗ рж░рж╛ржЦрж╛рж░ Shortcut
====================================================
NULL = "ржЖржорж┐ ржЬрж╛ржирж┐ ржирж╛"
ржЖрж░ SQL ржмрж▓рзЗ: "ржпрж╛ ржЬрж╛ржирж┐ ржирж╛, рж╕рзЗржЯрж╛ ржирж┐рзЯрзЗ ржЖржорж┐ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржирзЗржм ржирж╛"
*/

/*
====================================================
ЁЯФ╡ COALESCE ржХрзА? (Core Concept)==================================================================================
====================================================
COALESCE рж╣рж▓рзЛ ржПржХржЯрж┐ SQL standard functionред

ржПрж░ ржорзВрж▓ ржХрж╛ржЬ:
ржПржХрж╛ржзрж┐ржХ value ржПрж░ ржоржзрзНржпрзЗ ржерзЗржХрзЗ ржмрж╛ржо ржжрж┐ржХ ржерзЗржХрзЗ ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛ ржЪрзЗржХ ржХрж░рзЗ
ЁЯСЙ ржпрзЗржЯрж╛ ржкрзНрж░ржержо NULL ржирзЯ, рж╕рзЗржЯрж╛ржЗ return ржХрж░рж╛ред

рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрж▓рж╛ ржпрж╛рзЯ:
COALESCE ржПржЯрж╛ NULL value ржПрзЬрж┐рзЯрзЗ ржПржХржЯрж┐ usable value ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред
*/

/*
====================================================
ЁЯФ╡ Syntax
====================================================
*/
const coalesceSyntax = `COALESCE(value1, value2, value3, ...)`;

/*
ржмрзНржпрж╛ржЦрзНржпрж╛:
- ржкрзНрж░рждрж┐ржЯрж┐ parameter рж╣рждрзЗ ржкрж╛рж░рзЗ column, expression ржмрж╛ literal value
- ржПржХрж╛ржзрж┐ржХ fallback value ржжрзЗржУрзЯрж╛ ржпрж╛рзЯ
*/

/*
====================================================
ЁЯФ╡ COALESCE ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ? (Execution Rule)
====================================================
*/
const coalesceExample = `COALESCE(a, b, c, d)`;

/*
Execution flow:
1я╕ПтГг ржкрзНрж░ржержорзЗ a ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛ рж╣ржмрзЗ  
   - a ржпржжрж┐ NULL ржирж╛ рж╣рзЯ тЖТ result рж╣ржмрзЗ a  
   - a ржпржжрж┐ NULL рж╣рзЯ тЖТ ржкрж░ржмрж░рзНрждрзА value ржкрж░рзАржХрзНрж╖рж╛ рж╣ржмрзЗ  

2я╕ПтГг ржПрж░ржкрж░ b ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛ рж╣ржмрзЗ  
   - b ржпржжрж┐ NULL ржирж╛ рж╣рзЯ тЖТ result рж╣ржмрзЗ b  
   - b ржпржжрж┐ NULL рж╣рзЯ тЖТ ржкрж░ржмрж░рзНрждрзА value  

3я╕ПтГг ржПржХржЗржнрж╛ржмрзЗ c ржПржмржВ d ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛ рж╣ржмрзЗ  

ЁЯСЙ ржпрзЗржЯрж┐ ржкрзНрж░ржержо NULL ржирзЯ рж╕рзЗржЯрж┐ржЗ final result

ЁЯУМ ржпржжрж┐ рж╕ржмржЧрзБрж▓рзЛ value NULL рж╣рзЯ тЖТ result NULL
*/

/*
====================================================
ЁЯФ╡ Practical Usage ржмрзЛржЭрж╛
====================================================
ржЕржирзЗржХ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржХрзЛржирзЛ column-ржПрж░ value ржПржЦржирзЛ ржжрзЗржУрзЯрж╛ ржерж╛ржХрзЗ ржирж╛ред
рж╕рзЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ:
COALESCE ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ default ржмрж╛ fallback value ржжрзЗржЦрж╛ржирзЛ ржпрж╛рзЯред

ржлрж▓рж╛ржлрж▓:
- Output ржкрж░рж┐рж╖рзНржХрж╛рж░ рж╣рзЯ
- NULL ржжрзЗржЦрж╛ржирзЛрж░ ржкрзНрж░рзЯрзЛржЬржи ржкрзЬрзЗ ржирж╛
*/

/*
====================================================
ЁЯФ╡ Multiple Fallback Value ржмрзНржпржмрж╣рж╛рж░
====================================================
ржПржХрж╛ржзрж┐ржХ рж╕ржорзНржнрж╛ржмрзНржп value ржерж╛ржХрж▓рзЗ COALESCE ржХрж╛рж░рзНржпржХрж░ред
Execution рж╕ржмрж╕ржорзЯ ржмрж╛ржо ржжрж┐ржХ ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣рзЯ ржПржмржВ
ржкрзНрж░ржержо valid (non-NULL) value ржкрж╛ржУрзЯрж╛ ржорж╛рждрзНрж░ржЗ ржерзЗржорзЗ ржпрж╛рзЯред
рж╕ржм NULL рж╣рж▓рзЗ result NULL
*/

/*
====================================================
ЁЯФ╡ COALESCE ржХрзЛржерж╛рзЯ рж╕ржмржЪрзЗрзЯрзЗ ржмрзЗрж╢рж┐ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ?
====================================================
1я╕ПтГг SELECT output clean ржУ readable ржХрж░рж╛рж░ ржЬржирзНржп  
2я╕ПтГг Calculation-ржПрж░ рж╕ржорзЯ NULL ржПрж░ ржХрж╛рж░ржгрзЗ result ржирж╖рзНржЯ рж╣ржУрзЯрж╛ ржарзЗржХрж╛рждрзЗ  
3я╕ПтГг Report, dashboard, analytics ржП  
4я╕ПтГг User-facing data presentation ржП  
*/

/*
====================================================
ЁЯФ╡ COALESCE Golden Rules
====================================================
1я╕ПтГг COALESCE рж╢рзБржзрзБржорж╛рждрзНрж░ NULL check ржХрж░рзЗ  
   - 0 ржХрзЗ NULL ржзрж░рж╛ рж╣рзЯ ржирж╛  
   - '' (empty string) ржХрзЗ NULL ржзрж░рж╛ рж╣рзЯ ржирж╛  
   - false ржХрзЗ NULL ржзрж░рж╛ рж╣рзЯ ржирж╛  

2я╕ПтГг рж╕ржмрж╕ржорзЯ ржмрж╛ржо ржжрж┐ржХ ржерзЗржХрзЗ check ржХрж░рж╛ рж╣рзЯ  

3я╕ПтГг Calculation-ржП lifesaver  
   - NULL ржерж╛ржХрж╛рж░ ржХрж╛рж░ржгрзЗ ржкрзБрж░рзЛ рж╣рж┐рж╕рж╛ржм ржнрзЗржЩрзЗ ржпрж╛ржУрзЯрж╛рж░ рж╕ржорж╕рзНржпрж╛ ржжрзВрж░ ржХрж░рзЗ  

4я╕ПтГг WHERE clause-ржП ржЕрждрж┐рж░рж┐ржХрзНржд ржмрзНржпржмрж╣рж╛рж░ ржПрзЬрж┐рзЯрзЗ ржЪрж▓рж╛ ржЙржЪрж┐ржд  
   - Logic ржУ performance ржЙржнрзЯ ржкрзНрж░ржнрж╛ржмрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗ
*/

/*
====================================================
ЁЯФ╡ рж╕ржВржХрзНрж╖рж┐ржкрзНрждржнрж╛ржмрзЗ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржирж┐рзЯржо
====================================================
COALESCE ржорж╛ржирзЗ: "ржкрзНрж░ржержо ржпрзЗ value ржЯрж┐ NULL ржирзЯ, рж╕рзЗржЯрж╛ржЗ ржЧрзНрж░рж╣ржг ржХрж░рзЛ"
NULL handling ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржЯрж┐ ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред
*/
