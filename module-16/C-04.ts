/*
=========================================================
Second Normal Form (2NF) тАУ Step by Step Explanation
=========================================================

*/

/*--------------------------------------------------------
1я╕ПтГг Second Normal Form (2NF) ржХрзА?
----------------------------------------------------------

2NF рж╣рж▓рзЛ DBMS-ржПрж░ ржжрзНржмрж┐рждрзАрзЯ Normal Formред

2NF рж╣ржУрзЯрж╛рж░ ржЖржЧрзЗ ржЯрзЗржмрж┐рж▓ржХрзЗ ржЕржмрж╢рзНржпржЗ 1NF-ржП ржерж╛ржХрждрзЗ рж╣ржмрзЗред

ЁЯСЙ 1NF ржорж╛ржирзЗ:
ржПржХржЯрж┐ cell-ржП ржПржХржЯрж┐рж░ ржмрзЗрж╢рж┐ value ржерж╛ржХржмрзЗ ржирж╛ред

2NF рж╣ржУрзЯрж╛рж░ рж╢рж░рзНржд:

тЬЕ Table ржЕржмрж╢рзНржпржЗ 1NF-ржП ржерж╛ржХрждрзЗ рж╣ржмрзЗ  
тЬЕ рж╕ржм Non-key attribute ржкрзБрж░рзЛ Primary Key-ржПрж░ ржЙржкрж░ depend ржХрж░ржмрзЗ  
тЬЕ Partial dependency ржерж╛ржХрж╛ ржпрж╛ржмрзЗ ржирж╛

ржЕрж░рзНржерж╛рзО:
Non-key attribute ржХржЦржирзЛ Primary Key-ржПрж░
рж╢рзБржзрзБ ржПржХ ржЕржВрж╢рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред
*/

/*--------------------------------------------------------
2я╕ПтГг Composite Key ржХрзА? (2NF ржмрзЛржЭрж╛рж░ ржЬржирзНржп ржкрзНрж░рзЯрзЛржЬржи)
----------------------------------------------------------

Composite Key рж╣рж▓рзЛ ржПржоржи Primary Key
ржпрзЗржЯрж╛ ржПржХрж╛ржзрж┐ржХ column ржорж┐рж▓рж┐рзЯрзЗ рждрзИрж░рж┐ рж╣рзЯред

ржЙржжрж╛рж╣рж░ржг:
Primary Key = (StudentID + CourseID)

ржПржЦрж╛ржирзЗ StudentID ржПржХрж╛ unique ржирж╛,
CourseID ржПржХрж╛ unique ржирж╛,
ржХрж┐ржирзНрждрзБ ржПржХрж╕рж╛ржерзЗ uniqueред
*/

/*--------------------------------------------------------
3я╕ПтГг Non-key Attribute ржХрзА?
----------------------------------------------------------

Non-key attribute рж╣рж▓рзЛ тАФ
ржпрзЗ ржХрж▓рж╛ржоржЧрзБрж▓рзЛ Primary Key-ржПрж░ ржЕржВрж╢ ржирзЯред

ржЙржжрж╛рж╣рж░ржг ржЯрзЗржмрж┐рж▓:

StudentID | CourseID | StudentName | CourseName | Grade

Primary Key = (StudentID + CourseID)

Key columns:
- StudentID
- CourseID

Non-key columns:
- StudentName
- CourseName
- Grade
*/

/*--------------------------------------------------------
4я╕ПтГг Partial Dependency ржХрзА? (2NF ржХрзЗржи ржжрж░ржХрж╛рж░ ржПржЦрж╛ржирзЗ ржмрзЛржЭрж╛ ржпрж╛ржмрзЗ)
----------------------------------------------------------

Partial Dependency рждржЦржи рж╣рзЯ ржпржЦржи:

ЁЯСЙ ржХрзЛржирзЛ Non-key attribute
ржкрзБрж░рзЛ Primary Key-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржирж╛ ржХрж░рзЗ
Composite key-ржПрж░ рж╢рзБржзрзБ ржПржХржЯрж┐ ржЕржВрж╢рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред

ржЙржжрж╛рж╣рж░ржг:

StudentID | CourseID | StudentName | CourseName | Grade

Dependencies:

StudentID тЖТ StudentName   тЬЕ
CourseID тЖТ CourseName     тЬЕ
(StudentID, CourseID) тЖТ Grade тЬЕ

рж╕ржорж╕рзНржпрж╛:

StudentName ржкрзБрж░рзЛ key-ржПрж░ ржЙржкрж░ depend ржХрж░ржЫрзЗ ржирж╛  
CourseName ржкрзБрж░рзЛ key-ржПрж░ ржЙржкрж░ depend ржХрж░ржЫрзЗ ржирж╛  

ржПржЯрж╛ржЗ Partial Dependencyред
ржПржЯрж╛ 2NF ржнрзЗржЩрзЗ ржжрзЗрзЯред
*/

/*--------------------------------------------------------
5я╕ПтГг ржХрзЗржи Partial Dependency рж╕ржорж╕рзНржпрж╛?
----------------------------------------------------------

ржХрж╛рж░ржг:

тЭМ ржПржХржЗ рждржерзНржп ржмрж╛рж░ржмрж╛рж░ store рж╣рзЯ (Redundancy)
тЭМ Update ржХрж░рж▓рзЗ ржПржХрж╛ржзрж┐ржХ ржЬрж╛рзЯржЧрж╛рзЯ ржкрж░рж┐ржмрж░рзНрждржи рж▓рж╛ржЧрзЗ
тЭМ Delete ржХрж░рж▓рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг data рж╣рж╛рж░рж┐рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ
тЭМ Insert ржХржарж┐ржи рж╣рзЯрзЗ ржпрж╛рзЯ

ржПржЗ рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ ржжрзВрж░ ржХрж░рж╛рж░ ржЬржирзНржпржЗ 2NF ржжрж░ржХрж╛рж░ред
*/

/*--------------------------------------------------------
6я╕ПтГг 2NF-ржП рж░рзВржкрж╛ржирзНрждрж░рзЗрж░ ржЙржжрж╛рж╣рж░ржг
----------------------------------------------------------

Step 1: 1NF Table

StudentID | CourseID | StudentName | CourseName | Grade
101       | C01      | Rahim       | Math       | A
101       | C02      | Rahim       | English    | B
102       | C01      | Karim       | Math       | B


Primary Key = (StudentID + CourseID)

Partial Dependency Exists:
StudentID тЖТ StudentName
CourseID тЖТ CourseName


Step 2: 2NF-ржП рж░рзВржкрж╛ржирзНрждрж░ (Table Break)

Student Table:
StudentID | StudentName
101       | Rahim
102       | Karim

Course Table:
CourseID | CourseName
C01      | Math
C02      | English

Enrollment Table:
StudentID | CourseID | Grade
101       | C01      | A
101       | C02      | B
102       | C01      | B

ржПржЦржи:
тЬЕ ржХрзЛржирзЛ Partial Dependency ржирзЗржЗ
тЬЕ рж╕ржм Non-key attribute ржкрзБрж░рзЛ key-ржПрж░ ржЙржкрж░ depend ржХрж░рзЗ
тЬЕ Table ржПржЦржи 2NF-ржП
*/

/*--------------------------------------------------------
7я╕ПтГг Lossy Decomposition ржХрзА? (ржнрж╛ржЩрж╛рж░ рж╕ржорзЯ ржнрзБрж▓ рж╣рж▓рзЗ ржХрзА рж╣рзЯ)
----------------------------------------------------------

Lossy Decomposition ржШржЯрзЗ ржпржЦржи:

ЁЯСЙ ржмрзЬ ржЯрзЗржмрж┐рж▓ ржнрж╛ржЩрж╛ рж╣рзЯ
ЁЯСЙ ржХрж┐ржирзНрждрзБ ржкрж░рзЗ JOIN ржХрж░рж▓рзЗ ржЖржЧрзЗрж░ ржЖрж╕рж▓ ржбрж╛ржЯрж╛ ржарж┐ржХржорждрзЛ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ржирж╛

2NF ржХрж░рж╛рж░ рж╕ржорзЯ
relationship ржарж┐ржХржнрж╛ржмрзЗ рж░рж╛ржЦрждрзЗ рж╣рзЯ
ржирж╛ рж╣рж▓рзЗ data рж╣рж╛рж░рж╛рждрзЗ ржкрж╛рж░рзЗред
*/

/*--------------------------------------------------------
8я╕ПтГг 2NF-ржПрж░ рж╕рзБржмрж┐ржзрж╛
----------------------------------------------------------

тЬЕ Redundancy ржХржорзЗ
тЬЕ Insert anomaly ржХржорзЗ
тЬЕ Update anomaly ржХржорзЗ
тЬЕ Delete anomaly ржХржорзЗ
тЬЕ Database ржмрзЗрж╢рж┐ clean ржУ maintainable рж╣рзЯ


ЁЯТб ржоржирзЗ рж░рж╛ржЦрж╛рж░ рж╕рж╣ржЬ ржирж┐рзЯржо:
Composite Key ржерж╛ржХрж▓рзЗ тЖТ Partial Dependency ржЦрзБржБржЬрзЛ  
Partial Dependency ржерж╛ржХрж▓рзЗ тЖТ 2NF ржХрж░рждрзЗ ржЯрзЗржмрж┐рж▓ ржнрж╛ржЧ ржХрж░рзЛ

=========================================================
+---------------------+     +---------------------+
|      Student Table  |     |      Course Table   |
+---------------------+     +---------------------+
| StudentID | Name    |     | CourseID | Name     |
+---------------------+     +---------------------+
|   101     | Rahim   |     |   C01    |  Math    |
|   102     | Karim   |     |   C02    | English  |
+---------------------+     +---------------------+

                |
                |
                v

        +----------------------+
        |   Enrollment Table   |
        +----------------------+
        | StudentID | CourseID | Grade |
        +----------------------+
        |   101     |   C01    |   A   |
        |   101     |   C02    |   B   |
        |   102     |   C01    |   B   |
        +----------------------+

*/
